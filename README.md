# CodeCraft
MealPlanner

---SOS--- 
Οδηγίες Καταχώρισης AI Key

Καθώς δεν είναι εφικτό να ανεβάσω το AI Key ώστε να λειτουργήσει το δικό μας AI, παρακαλώ καταχωρίστε το παρακάτω κλειδί στις κατάλληλες γραμμές του κώδικα για να μπορέσει το πρόγραμμα να λειτουργήσει σωστά.

Βήματα:

-Εντοπίστε το σημείο στον κώδικα όπου ζητείται το AI Key:
src/main/java/code/craft/AI.java     ,σειρα 188

-Διεγραψε τις --->   // 
 
-Αποθηκεύστε τις αλλαγές και εκτελέστε ξανά το πρόγραμμα.
---SOS---

## Οδηγίες Μεταγλώττισης

Για τη μεταγλώττιση του προγράμματος, βεβαιωθείτε ότι έχετε εγκαταστήσει το Maven

1. Κλωνοποιήστε το αποθετήριο:

    git clone https://github.com/DimRal/CodeCraft.git
    cd CodeCraft

2. Κατασκευάστε το πρόγραμμα:
   mvn clean package

Αυτό θα δημιουργήσει το αρχείο JAR στο φάκελο `target`.

---

### Οδηγίες Εκτέλεσης

Για να εκτελέσετε το πρόγραμμα:

1. Βεβαιωθείτε ότι έχετε εγκαταστήσει το **Java 11 ή νεότερο**.
2. Εκτελέστε την εφαρμογή με την εντολή:

   mvn javafx:run

---
#### Οδηγίες Χρήσης

1. **Εκκίνηση της Εφαρμογής**: -Μετά την εκτέλεση, ανοίγει ένα παράθυρο με δύο επιλογές κουμπιών, Register και Login.Ο χρήστης αρχικά πατάει το κουμπί του Register.
2. **Εισαγωγή στοιχείων και Sign up**:
    -Ο χρήστης πληκτρολογεί στα πεδία τα στοιχεία που του ζητούνται και στο τέλος κανει Sign up ,στην συνέχεια θα πρέπει να περιμένει ο χρήστης 10-15 ΛΕΠΤΑ ΕΤΣΙ ΩΣΤΕ ΝΑ ΟΛΟΚΛΗΡΩΘΕΙ Η ΔΙΑΔΙΚΙΑΣΙΑ ΔΗΜΙΟΥΡΓΊΑΣ ΓΕΥΜΑΤΩΝ ΚΑΙ ΠΟΣΟΤΗΤΩΝ !
3. **Login**:
    - Στη συνέχεια ΟΤΑΝ ΟΛΟΚΛΗΡΩΘΕΙ Η ΔΙΑΔΙΚΑΣΙΑ,θα μεταβεί ο χρήστης στο χώρο που κάνει login να συμπληρωση ονομα και κωδικο που εβαλε και προηγουμενος.
4. **Δημιουργία  και Εμφάνιση Πλάνου**:
    - Μετά το login, το πλάνο εμφανίζεται σε ένα εύχρηστο interface,οπου θα ηταν καλό ο χρήστης να βάλει full screen  πρέπει .
---
##### Παρουσίαση Δομής Περιεχομένων του Αποθετηρίου

meal-planner/
├── .vscode
│   ├── launch.json
│   ├── settings.json
├── src/
│   ├── main/
│   │   ├── java/
│   │   │   ├── code.craft/
│   │   │   │   ├── Welcome.java          # Κύρια κλάση της εφαρμογής
│   │   │   │   ├── User.java             # Κλάση για διαχείριση χρηστών
│   │   │   │   ├── UserService.java      # Υπηρεσίες σχετικές με χρήστες
│   │   │   │   ├── AI.java                   # Λειτουργικότητα AI
│   │   │   │   ├── Macros.java               # Υπολογισμοί για macros
│   │   │   │   ├── optimaztion.java          # Αλγόριθμοι βελτιστοποίησης
│   │   ├── resources/
│   │       ├── background.png            # Εικόνα φόντου
│   │       └── background2.jpg           # Εναλλακτική εικόνα φόντου
├── target/
│   ├── classes/
│   ├── generated-sources
│   ├── maven-status
│   ├── test-classes
├── users.json                            # Δεδομένα χρηστών
├── pom.xml                               # Maven αρχείο ρυθμίσεων
├── README.md                             # Οδηγίες χρήσης


###### Διάγραμμα UML




+-------------------------------------+
|            Welcome                  |
|-------------------------------------|
| - userService: UserService          |
| - newToggle: RadioButton            |
|-------------------------------------|
| + main(String[]): void              |
| + start(Stage): void                |
| - createInput(Stage): Scene         |
| - login(Stage): Scene               |
| - Programm(): Scene                 |
|-------------------------------------|
| - Δημιουργία GUI                    |
| - Επικοινωνία με UserService         |
+-------------------------------------+

           | (uses)
           V

+-------------------------------------+
|         UserService                 |
|-------------------------------------|
| - users: List<User>                 |
|-------------------------------------|
| + addUser(...): void                |
| + loginUser(...): User              |
| + loadUsersFromFile(): void         |
|-------------------------------------|
| - Διαχειρίζεται τους χρήστες        |
+-------------------------------------+

           | (manages)
           V

+-------------------------------------+
|             User                    |
|-------------------------------------|
| - username: String                  |
| - email: String                     |
| - password: String                  |
| - age: int                          |
| - gender: String                    |
| - height: double                    |
| - weight: double                    |
| - goal: String                      |
| - foods: String                     |
| - sport: String                     |
| - trainingHours: String             |
| - allergies: String                 |
|-------------------------------------|
| + getters/setters                   |
+-------------------------------------+

           | (uses dietary data)
           V

+-------------------------------------+
|             Macros                  |
|-------------------------------------|
| - name: String                      |
| - calories: float                   |
| - protein: float                    |
| - carbs: float                      |
| - fat: float                        |
|-------------------------------------|
| + Macros(String name, ...): void    |
|-------------------------------------|
| - Διαχειρίζεται δεδομένα διατροφής  |
+-------------------------------------+

           | (interacts with)
           V

+-------------------------------------+
|              AI                     |
|-------------------------------------|
| + chatGPT(String message): String   |
| + extractContent(...): String       |
| + FromResponse(...): String         |
| + geumata(int x): String            |
|-------------------------------------|
| - Υποστηρίζει αλληλεπίδραση AI      |
+-------------------------------------+

           | (optimizes)
           V

+-------------------------------------+
|          Optimization               |
|-------------------------------------|
| + loadMeals(): List<Meal>           |
| + adjustMealQuantities(): void      |
| + getDaysOfWeek(): List<String>     |
| + categorizeMeals(...): Map<String, |
|   List<Meal>>                       |
|-------------------------------------|
| - Υπολογίζει πλάνα διατροφής        |
+-------------------------------------+

           | (produces output)
           V

+-------------------------------------+
|             Output                  |
|-------------------------------------|
| + Εκτυπώνει το εβδομαδιαίο πλάνο    |
+-------------------------------------+

###### Επισκόπηση των Δομών Δεδομένων και των Αλγορίθμων

1.Δομές Δεδομένων

User:
Αποθηκεύει τα δεδομένα του χρήστη, όπως:
Όνομα χρήστη (username)
Ηλεκτρονικό ταχυδρομείο (email)
Ηλικία (age)
Φύλο (gender)
Ύψος (height) και Βάρος (weight)
Διαιτητικοί στόχοι (goal)
Αλλεργίες (allergies)
Προτιμήσεις φαγητών (foods)
Αγαπημένα αθλήματα και ώρες προπόνησης (sport και trainingHours)

2.Macros:

Χρησιμοποιείται για την αποθήκευση θρεπτικών δεδομένων ενός γεύματος ή συστατικού:
Θερμίδες (calories)
Πρωτεΐνες (protein)
Υδατάνθρακες (carbs)
Λιπαρά (fat)


3.ArrayList<Macros[]> και ArrayList<double[]>:

Χρησιμοποιούνται για την αποθήκευση πολλαπλών γευμάτων μαζί με τα αντίστοιχα θρεπτικά συστατικά τους.
Περιλαμβάνουν δεδομένα όπως ποσότητες συστατικών ανά γεύμα.

UserService:
-Διαχειρίζεται τη συλλογή των χρηστών μέσω μιας λίστας (List<User>).
-Υποστηρίζει την προσθήκη, διαγραφή και φόρτωση δεδομένων χρηστών από αρχείο.


Αλγόριθμοι:

Υπολογισμός Μακροθρεπτικών Συστατικών Γεύματος:

Η μέθοδος DAYS_MACROS υπολογίζει τα ημερήσια θρεπτικά συστατικά που απαιτούνται για έναν χρήστη, βασισμένα:
Στο φύλο, την ηλικία, το ύψος και το βάρος του χρήστη.
Στον στόχο του χρήστη (απώλεια, διατήρηση, αύξηση βάρους).
Στις θερμίδες που καίγονται από τη φυσική δραστηριότητα, χρησιμοποιώντας την τιμή MET.
Αλληλεπίδραση με AI:

Η κλάση AI διαχειρίζεται την επικοινωνία με ένα εξωτερικό AI API (OpenAI):
-Δημιουργία γευμάτων με βάση τις προτιμήσεις του χρήστη.
-Εξαγωγή ονομάτων γευμάτων, συστατικών και θρεπτικών δεδομένων από τις απαντήσεις του AI.
-Χρησιμοποιείται επαναληπτικός αλγόριθμος (retryMakeFood) για να διασφαλιστεί ότι το AI παράγει έγκυρα δεδομένα.

Βελτιστοποίηση Συστατικών Γεύματος:

Η κλάση Optimization χρησιμοποιεί αλγόριθμο γραμμικού προγραμματισμού:
-Ο στόχος είναι η ελαχιστοποίηση της απόκλισης των ποσών των συστατικών από το θρεπτικό στόχο ενός γεύματος.
-Χρησιμοποιείται ο SimplexSolver από την Apache Commons Math.
-Περιλαμβάνει περιορισμούς για θερμίδες, πρωτεΐνες, υδατάνθρακες και λιπαρά.

Διαχείριση Δεδομένων Γευμάτων:

-Η μέθοδος make_food επικοινωνεί με το AI για να δημιουργήσει γεύματα, και τα δεδομένα οργανώνονται σε αντικείμενα Macros.
-Η μέθοδος macro_numbers εξάγει τις θρεπτικές τιμές για κάθε συστατικό ενός γεύματος, χρησιμοποιώντας επαναληπτικούς ελέγχους και regex patterns.

Δημιουργία Εβδομαδιαίου Πλάνου:

Η μέθοδος outPut παράγει ένα εβδομαδιαίο πρόγραμμα γευμάτων:
-Κάθε ημέρα περιλαμβάνει γεύματα (πρωινό, δεκατιανό, μεσημεριανό, απογευματινό, βραδινό).
-Ορίζεται η ποσότητα κάθε συστατικού με βάση τα θρεπτικά δεδομένα και τους στόχους.

Επεξεργασία και Εξαγωγή Δεδομένων:

-Χρησιμοποιούνται δομές όπως λίστες (ArrayList) και πίνακες για την αποθήκευση και οργάνωση των δεδομένων.
-Οι απαντήσεις του AI επεξεργάζονται μέσω regex (Pattern και Matcher) για εξαγωγή αριθμητικών δεδομένων.

Σημεία Βελτίωσης

Αντιμετώπιση Λαθών:

-Χρησιμοποιούμε την extractNumber για την αντιμετώπιση των λανθασμένων μορφών απαντήσεων της τεχνητής νοημοσύνης. Αντί να περιμένουμε τη σωστή απάντηση, τώρα μπορούμε να τη βρούμε μέσα στην ίδια την απάντηση, εντοπίζοντας τον αριθμό ή τη σωστή τιμή απευθείας από τα δεδομένα που επιστρέφει η AI.

-Επαναληπτικοί μηχανισμοί όπως ο retryMakeFood διασφαλίζουν ότι το AI παρέχει έγκυρες απαντήσεις.

Βελτιστοποίηση Απόδοσης:
-Η χρήση του SimplexSolver διασφαλίζει ότι οι ποσότητες των συστατικών είναι βέλτιστες και πληρούν τους στόχους.

Ευελιξία Δεδομένων:
-Οι μέθοδοι επιτρέπουν τη δυναμική δημιουργία γευμάτων, βασισμένων σε εξατομικευμένα δεδομένα χρήστη.
